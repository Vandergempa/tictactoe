!function(t){var e={};function r(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);const i=(t,e,r,i,s)=>{if("nodrawtype"===e)s.forEach(e=>{t[e].classList.add(r),t[e].classList.remove(i)});else for(let e=0;e<t.length;e++)t[e].classList.add(r),t[e].classList.remove(i)},s=(t,e,r)=>{const i=Array.from(document.querySelectorAll(".bottom-container__iconcont"));i[t].firstElementChild.classList="",i[t].firstElementChild.classList.add("fas",e,"fa-6x",t),i[t].lastElementChild.textContent=r,i[t].style.color="black"},n=(t,e)=>{const r=document.querySelector("h4");r.textContent=t,r.style.fontSize=e},o=new class{constructor(t){this.winningCombinations=[[0,1,2],[3,4,5],[6,7,8],[0,4,8],[2,4,6],[0,3,6],[1,4,7],[2,5,8]],this.origBoard=t,this.checkForWinner=this.checkForWinner.bind(this),this.setOrigBoard=this.setOrigBoard.bind(this)}gridsArray(){return Array.from(document.querySelectorAll(".grid-item"))}getEmptyGrids(t){return t.filter(t=>"number"==typeof t)}setOrigBoard(t){this.origBoard=t}isWinningSeries(t){let e=0;for(let r=0;r<t.length;r++)if(t[r]===t[0]&&"number"!=typeof t[r]&&e++,3===e)return!0;return!1}checkForWinner(t){let e=!1;return this.winningCombinations.forEach(r=>{const i=[t[r[0]],t[r[1]],t[r[2]]];this.isWinningSeries(i)&&(e=r)}),e}}([]),a=new class{constructor(t,e){this.gameType="humancomputer",this.timeOutIds=[],this.turnClick=this.turnClick.bind(this),this.setUpGameTypeClick=this.setUpGameTypeClick.bind(this),this.setUpStartingPlayerClick=this.setUpStartingPlayerClick.bind(this),this.dropDown=document.querySelector(".dropdown-el"),this.board=t,this.player=e}removeSetTimeOuts(){for(let t=0;t<this.timeOutIds.length;t++)clearTimeout(this.timeOutIds[t])}startGame(){this.board.gridsArray().forEach(t=>{t.textContent="",t.classList.remove("winner"),t.classList.remove("draw")}),this.board.setOrigBoard(Array.from(Array(9).keys())),this.timeOutIds=[],this.activateListeners()}endGame(t){const{checkForWinner:e,getEmptyGrids:r}=this.board,s=this.board.gridsArray();0!==r(this.board.origBoard).length||e(this.board.origBoard)?!1!==e(this.board.origBoard)&&(i(s,"nodrawtype","winner","draw",t),n("We have a winner!! Select starting player to start a new game","20px"),this.deactivateListeners()):(i(s,"drawtype","draw","winner"),n("It is a draw!! Select starting player to start a new game","20px"),this.deactivateListeners())}takeTurn(t,e){"number"==typeof this.board.origBoard[t]&&(this.board.origBoard[t]=e,this.board.gridsArray()[t].textContent=this.board.origBoard[t])}compMove(t,e){this.takeTurn(this.player.minimax(this.board.origBoard,t).index,t),"humancomputer"===this.gameType&&(this.activateListeners(),this.player.changeCurrentPlayer()),"computercomputer"===this.gameType&&this.moveOpponent(this.player.changeCurrentPlayer(),e),this.endGame(this.board.checkForWinner(this.board.origBoard))}moveOpponent(t,e=900){const{checkForWinner:r,getEmptyGrids:i}=this.board;r(this.board.origBoard)||0===i(this.board.origBoard).length||this.timeOutIds.push(setTimeout(()=>this.compMove(t,e),e))}opponentsTurn(t,e){"humanhuman"!==this.gameType&&(this.deactivateListeners(),this.moveOpponent(t,e))}turnClick(t){"number"==typeof this.board.origBoard[t.target.id]&&(this.takeTurn(t.target.id,this.player.currentPlayer),this.player.changeCurrentPlayer(),this.board.checkForWinner(this.board.origBoard)||this.opponentsTurn(this.player.currentPlayer),this.endGame(this.board.checkForWinner(this.board.origBoard)))}setUpGameTypeClick(t){const e=t.target.previousElementSibling,r=document.querySelector(".dropdown-el");t.preventDefault(),this.removeSetTimeOuts(),r.classList.toggle("expanded"),e.checked=!0,this.gameType=e.value,((t,e)=>{"humanhuman"===t&&(e(0,"fa-user-alt","Human starts(X)"),e(1,"fa-user-alt","Human starts(O)")),"humancomputer"===t&&(e(0,"fa-user-alt","Human starts(X)"),e(1,"fa-desktop","Computer starts(O)")),"computercomputer"===t&&(e(0,"fa-desktop","Computer starts(X)"),e(1,"fa-desktop","Computer starts(O)"))})(this.gameType,s),n("Select starting player","20px"),this.startGame(),this.deactivateListeners()}setUpStartingPlayerClick(t){const{changeCurrentPlayer:e,setCurrentPlayer:r,opponentChoice:i}=this.player,s=t.target,o=Array.from(document.querySelectorAll(".bottom-container__iconcont"));this.removeSetTimeOuts(),this.startGame(),n("Let's see who is better","25px"),s.classList.contains("1")?(r("O"),o[1].style.color="#7cb0d4",o[0].style.color="black","humancomputer"===this.gameType&&(this.takeTurn(i(this.board.origBoard),this.player.currentPlayer),e())):s.classList.contains("0")&&(r("X"),o[0].style.color="#7cb0d4",o[1].style.color="black"),"computercomputer"===this.gameType&&(n("Let's see who is the better A.I...","20px"),this.takeTurn(i(this.board.origBoard),this.player.currentPlayer),e(),this.opponentsTurn(this.player.currentPlayer,900))}addDropdownListener(){document.querySelector(".dropdown-el").addEventListener("click",this.setUpGameTypeClick)}addBottomIconsEventListeners(){Array.from(document.querySelectorAll(".bottom-container__iconcont")).forEach(t=>{t.addEventListener("click",this.setUpStartingPlayerClick)})}activateListeners(){this.board.gridsArray().forEach(t=>{t.addEventListener("click",this.turnClick)})}deactivateListeners(){this.board.gridsArray().forEach(t=>{t.removeEventListener("click",this.turnClick)})}}(o,new class{constructor(t){this.currentPlayer="",this.setCurrentPlayer=this.setCurrentPlayer.bind(this),this.changeCurrentPlayer=this.changeCurrentPlayer.bind(this),this.opponentChoice=this.opponentChoice.bind(this),this.minimax=this.minimax.bind(this),this.board=t}setCurrentPlayer(t){this.currentPlayer=t}changeCurrentPlayer(){return"X"===this.currentPlayer?this.currentPlayer="O":this.currentPlayer="X"}opponentChoice(t){let e=this.board.getEmptyGrids(t);return e[Math.floor(Math.random()*e.length)]}minimax(t,e,r=0){let i=e,s=this.board.getEmptyGrids(t),n=t;if("X"===n[this.board.checkForWinner(n)[0]])return{score:-100+r};if("O"===n[this.board.checkForWinner(n)[0]])return{score:100-r};if(0===s.length)return{score:0};let o,a=[];for(let t=0;t<s.length;t++){let e={};e.index=n[s[t]],n[s[t]]=i,r++,"O"===i?e.score=this.minimax(n,"X",r).score:"X"===i&&(e.score=this.minimax(n,"O",r).score),n[s[t]]=e.index,r=0,a.push(e)}if("O"===i){let t=-1/0;for(let e=0;e<a.length;e++)a[e].score>t&&(t=a[e].score,o=e)}else if("X"===i){let t=1/0;for(let e=0;e<a.length;e++)a[e].score<t&&(t=a[e].score,o=e)}return a[o]}}(o));a.addBottomIconsEventListeners(),a.addDropdownListener()}]);